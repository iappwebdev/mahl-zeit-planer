# Angular Esbuild Builder + Tailwind CSS v4: PostCSS Config Format

## The Issue: `postcss.config.js` vs `.postcssrc.json`

Angular has two build systems:

1. **Webpack builder** (`@angular-devkit/build-angular:browser`) — the legacy builder. It uses `postcss-loader` which reads **any** PostCSS config format: `postcss.config.js`, `postcss.config.cjs`, `.postcssrc.json`, etc.

2. **Esbuild builder** (`@angular/build:application`) — the modern builder (Angular 21+). It has its own CSS pipeline that **only** reads `.postcssrc.json`. It ignores `postcss.config.js` entirely.

## What Happens

When using `postcss.config.js` with the esbuild builder, Angular silently ignores the file. Since Tailwind CSS v4 generates CSS in layers:

- **`@layer theme`** — CSS custom properties (colors, spacing, fonts) — generated from `@import "tailwindcss"` alone, no scanning needed
- **`@layer base`** — reset/normalize styles — same, no scanning needed
- **`@layer utilities`** — actual utility classes like `min-h-screen`, `bg-green-50`, `flex` — **requires scanning source files** via the `@tailwindcss/postcss` plugin

Without the PostCSS plugin running, the theme variables and base reset load (making the CSS file look ~20 kB and appear "correct"), but **zero utility classes are generated**. Every Tailwind class in the templates is a no-op.

## The Fix

Replace `postcss.config.js` with `.postcssrc.json`:

```json
{
  "plugins": {
    "@tailwindcss/postcss": {}
  }
}
```

## Reference

- Angular Tailwind guide: https://angular.dev/guide/tailwind
